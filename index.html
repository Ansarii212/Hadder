<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8">
  <title>نظام تقارير المعلمين</title>
  <style>
    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background-color: #fdf6e3;
      margin: 0;
      padding: 20px;
    }

    header {
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .logout {
      font-size: 12px;
      padding: 4px 8px;
      background-color: #a94442;
      color: white;
      border: none;
      border-radius: 5px;
      position: absolute;
      top: 10px;
      left: 10px;
      cursor: pointer;
    }

    h2 {
      margin-top: 40px;
      color: #333;
    }

    form, .report-section {
      margin-bottom: 30px;
      padding: 20px;
      background-color: #fff8dc;
      border: 1px solid #ddd;
      border-radius: 10px;
    }

    input, select {
      padding: 8px;
      margin: 5px;
      border-radius: 5px;
      border: 1px solid #aaa;
    }

    button {
      padding: 8px 14px;
      background-color: #4CAF50;
      color: white;
      border: none;
      border-radius: 5px;
      margin: 5px 0;
      cursor: pointer;
    }

    .filters {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 15px;
    }

    .filters select {
      margin: 0 10px;
    }

    table {
      width: 100%;
      border-collapse: collapse;
      background-color: white;
    }

    th, td {
      padding: 10px;
      border: 1px solid #ccc;
      text-align: center;
    }

    .print-btn {
      background-color: #007BFF;
    }

    @media print {
      body * {
        visibility: hidden;
      }

      #teacherReportSection, #attendanceReportSection {
        visibility: visible;
        position: absolute;
        top: 0;
        left: 0;
      }

      #teacherReportSection.printing, #attendanceReportSection.printing {
        display: block !important;
      }
    }
  </style>
</head>
<body>

  <header>
    <h1>نظام تقارير المعلمين</h1>
    <button class="logout" onclick="logout()">تسجيل الخروج</button>
  </header>

  <!-- نموذج إدخال المعلمين -->
  <form id="teacherForm">
    <h2>إدخال بيانات المعلم</h2>
    <input type="text" id="teacherName" placeholder="اسم المعلم" required>
    <input type="text" id="subject" placeholder="المادة">
    <button type="button" onclick="addTeacher()">إضافة</button>
  </form>

  <!-- عنوان تقرير المعلمين -->
  <h2>تقرير المعلمين</h2>

  <!-- فلاتر التقارير -->
  <div class="filters">
    <div>
      <label>ترتيب:</label>
      <select id="sortFilter" onchange="applyFilters()">
        <option value="newest">الأحدث</option>
        <option value="oldest">الأقدم</option>
      </select>
    </div>

    <div>
      <label>التاريخ:</label>
      <input type="date" id="dateFilter" onchange="applyFilters()">
    </div>
  </div>

  <!-- تقرير المعلمين -->
  <div class="report-section" id="teacherReportSection">
    <table id="teacherTable">
      <thead>
        <tr>
          <th>الاسم</th>
          <th>المادة</th>
          <th>التاريخ</th>
        </tr>
      </thead>
      <tbody id="teacherBody"></tbody>
    </table>
  </div>

  <!-- زر طباعة تقرير المعلمين -->
  <button class="print-btn" onclick="printSection('teacherReportSection')">طباعة تقرير المعلمين</button>

  <!-- عنوان تقرير الحضور -->
  <h2>تقرير الحضور</h2>

  <!-- تقرير الحضور -->
  <div class="report-section" id="attendanceReportSection">
    <table>
      <thead>
        <tr>
          <th>اسم المعلم</th>
          <th>الحالة</th>
          <th>التاريخ</th>
        </tr>
      </thead>
      <tbody id="attendanceBody">
        <tr><td>أحمد</td><td>حاضر</td><td>2025-05-09</td></tr>
        <tr><td>خالد</td><td>غائب</td><td>2025-05-09</td></tr>
      </tbody>
    </table>
  </div>

  <!-- زر طباعة تقرير الحضور -->
  <button class="print-btn" onclick="printSection('attendanceReportSection')">طباعة تقرير الحضور</button>

  <script>
    let teacherData = [];

    function addTeacher() {
      const name = document.getElementById('teacherName').value;
      const subject = document.getElementById('subject').value;
      const date = new Date().toISOString().split('T')[0];

      if (name.trim() === "") return;

      teacherData.push({ name, subject, date });
      document.getElementById('teacherForm').reset();
      applyFilters();
    }

    function applyFilters() {
      const sort = document.getElementById('sortFilter').value;
      const date = document.getElementById('dateFilter').value;
      let filtered = [...teacherData];

      if (date) {
        filtered = filtered.filter(t => t.date === date);
      }

      if (sort === "newest") {
        filtered.reverse();
      }

      const tbody = document.getElementById('teacherBody');
      tbody.innerHTML = "";

      filtered.forEach(t => {
        const row = `<tr><td>${t.name}</td><td>${t.subject}</td><td>${t.date}</td></tr>`;
        tbody.innerHTML += row;
      });
    }

    function printSection(id) {
      const section = document.getElementById(id);
      section.classList.add('printing');
      window.print();
      section.classList.remove('printing');
    }

    function logout() {
      window.location.href = 'login.html';
    }
  </script>

</body>
</html>
